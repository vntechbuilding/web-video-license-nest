import{a as De}from"./chunk-ZDAHY7KC.js";import{a as Re}from"./chunk-O25UQVZ2.js";import{b as _e}from"./chunk-UVZ7OHOK.js";import{a as Te,c as xe}from"./chunk-W244JUTK.js";import{a as Le}from"./chunk-FTHBAHA3.js";import{b as Fe}from"./chunk-FCOSAHCS.js";import{a as O}from"./chunk-ASNUN4YP.js";import{f as k,g as Z,h as W}from"./chunk-CIAYRUPY.js";import{a as w,b as F,c as D,m as R,o as T,p as x,q as _,r as Me,t as A}from"./chunk-53LNINAL.js";import{a as S,d as Se,e as K,g as y,h as I,n as E,o as N,s as M,t as ye,u as Ie,w as Ee,x as Ne}from"./chunk-TEFF5QW5.js";import{Ba as we}from"./chunk-E7AKRIK7.js";import{Ea as de,Fa as ce,Ha as fe,Ic as Ce,Kb as p,La as he,Lb as l,Ma as d,Mb as m,Nb as j,Ob as $,Qb as ve,Sc as U,Tb as ge,Tc as q,Vb as re,Zc as P,ba as X,bd as C,dc as u,e as $e,ea as ne,ec as J,gb as a,gc as be,ha as f,hb as c,ia as se,ja as ae,kc as g,la as pe,lc as b,m as oe,na as Y,nb as ze,o as G,pb as ie,pc as L,qc as B,rb as z,sa as le,ta as h,ua as ue,va as me,wb as v,yb as s}from"./chunk-KXMLQHF5.js";var pt=(()=>{let r=class r extends O{constructor(){super(),this.validatorError={ratingValue:{required:"Rating value kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"},bestRating:{required:"Best rating kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"},ratingCount:{required:"Rating count kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"},totalRead:{required:"Total read kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"}}}ngOnInit(){this.addControl("ratingValue",this.setValidators(this.validators.ratingValue,[K.required]),5),this.addControl("bestRating",this.setValidators(this.validators.bestRating,[K.required]),5),this.addControl("ratingCount",this.setValidators(this.validators.ratingCount,[]),Math.floor(Math.random()*5e4+500)),this.addControl("totalRead",this.setValidators(this.validators.totalRead,[K.required]),Math.floor(Math.random()*5e5+1e4)),this.emitNewErrorMsg("ratingValue"),this.emitNewErrorMsg("bestRating"),this.emitNewErrorMsg("ratingCount"),this.emitNewErrorMsg("totalRead")}};r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=h({type:r,selectors:[["app-rating-input"]],standalone:!0,features:[g([{provide:S,useExisting:f(()=>r),multi:!0}]),z,b],decls:21,vars:33,consts:[[3,"formGroup"],["nzFor","ratingValue",3,"nzSm","nzXs","nzRequired"],[3,"nzSm","nzXs","nzErrorTip"],["formControlName","ratingValue",3,"nzMin","nzMax"],["nzFor","bestRating",3,"nzSm","nzXs","nzRequired"],["formControlName","bestRating",3,"nzMin","nzMax"],["nzFor","ratingCount",3,"nzSm","nzXs","nzRequired"],["formControlName","ratingCount",3,"nzMin","nzMax"],["nzFor","totalRead",3,"nzSm","nzXs","nzRequired"],["formControlName","totalRead",3,"nzMin","nzMax"]],template:function(n,t){n&1&&(p(0,"div",0)(1,"nz-form-item")(2,"nz-form-label",1),u(3,"\u0110i\u1EC3m \u0111\xE1nh gi\xE1 (Rating)"),l(),p(4,"nz-form-control",2),m(5,"nz-input-number",3),l()(),p(6,"nz-form-item")(7,"nz-form-label",4),u(8,"\u0110i\u1EC3m cao nh\u1EA5t (Rating)"),l(),p(9,"nz-form-control",2),m(10,"nz-input-number",5),l()(),p(11,"nz-form-item")(12,"nz-form-label",6),u(13,"T\u1ED5ng s\u1ED1 l\u1EA7n \u0111\xE1nh gi\xE1"),l(),p(14,"nz-form-control",2),m(15,"nz-input-number",7),l()(),p(16,"nz-form-item")(17,"nz-form-label",8),u(18,"T\u1ED5ng l\u01B0\u1EE3t xem b\xE0i"),l(),p(19,"nz-form-control",2),m(20,"nz-input-number",9),l()()()),n&2&&(s("formGroup",t.formGroup),a(2),s("nzSm",10)("nzXs",24)("nzRequired",t.formErrorMsg.ratingValue&&t.formErrorMsg.ratingValue.required),a(2),s("nzSm",14)("nzXs",24)("nzErrorTip",t.formErrors.ratingValue),a(),s("nzMin",0)("nzMax",5),a(2),s("nzSm",10)("nzXs",24)("nzRequired",t.formErrorMsg.bestRating&&t.formErrorMsg.bestRating.required),a(2),s("nzSm",14)("nzXs",24)("nzErrorTip",t.formErrors.bestRating),a(),s("nzMin",0)("nzMax",5),a(2),s("nzSm",10)("nzXs",24)("nzRequired",t.formErrorMsg.ratingCount&&t.formErrorMsg.ratingCount.required),a(2),s("nzSm",14)("nzXs",24)("nzErrorTip",t.formErrors.ratingCount),a(),s("nzMin",0)("nzMax",9999999),a(2),s("nzSm",10)("nzXs",24)("nzRequired",t.formErrorMsg.totalRead&&t.formErrorMsg.totalRead.required),a(2),s("nzSm",14)("nzXs",24)("nzErrorTip",t.formErrors.totalRead),a(),s("nzMin",0)("nzMax",9999999))},dependencies:[_,F,w,R,x,T,A,D,M,y,I,E,N,C,Fe,xe,Te]});let i=r;return i})();var Ae=new pe("WindowToken",typeof window<"u"&&window.document?{providedIn:"root",factory:()=>window}:{providedIn:"root",factory:()=>{}});var Be=(()=>{class i{constructor(e,o,n){this.ngZone=e,this.document=o,this.window=n,this.copySubject=new oe,this.copyResponse$=this.copySubject.asObservable(),this.config={}}configure(e){this.config=e}copy(e){if(!this.isSupported||!e)return this.pushCopyResponse({isSuccess:!1,content:e});let o=this.copyFromContent(e);return o?this.pushCopyResponse({content:e,isSuccess:o}):this.pushCopyResponse({isSuccess:!1,content:e})}get isSupported(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}isTargetValid(e){if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){if(e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}copyFromInputElement(e,o=!0){try{this.selectTarget(e);let n=this.copyText();return this.clearSelection(o?e:void 0,this.window),n&&this.isCopySuccessInIE11()}catch{return!1}}isCopySuccessInIE11(){let e=this.window.clipboardData;return!(e&&e.getData&&!e.getData("Text"))}copyFromContent(e,o=this.document.body){if(this.tempTextArea&&!o.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{o.appendChild(this.tempTextArea)}catch{throw new Error("Container should be a Dom element")}}this.tempTextArea.value=e;let n=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),n}destroy(e=this.document.body){this.tempTextArea&&(e.removeChild(this.tempTextArea),this.tempTextArea=void 0)}selectTarget(e){return e.select(),e.setSelectionRange(0,e.value.length),e.value.length}copyText(){return this.document.execCommand("copy")}clearSelection(e,o){e&&e.focus(),o.getSelection()?.removeAllRanges()}createTempTextArea(e,o){let n=e.documentElement.getAttribute("dir")==="rtl",t;t=e.createElement("textarea"),t.style.fontSize="12pt",t.style.border="0",t.style.padding="0",t.style.margin="0",t.style.position="absolute",t.style[n?"right":"left"]="-9999px";let V=o.pageYOffset||e.documentElement.scrollTop;return t.style.top=V+"px",t.setAttribute("readonly",""),t}pushCopyResponse(e){this.copySubject.observers.length>0&&this.ngZone.run(()=>{this.copySubject.next(e)})}pushCopyReponse(e){this.pushCopyResponse(e)}}return i.\u0275fac=function(e){return new(e||i)(Y(ie),Y(Ce),Y(Ae,8))},i.\u0275prov=se({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Oe=(()=>{class i{constructor(e,o,n,t){this.ngZone=e,this.host=o,this.renderer=n,this.clipboardSrv=t,this.cbOnSuccess=new d,this.cbOnError=new d,this.onClick=V=>{this.clipboardSrv.isSupported?this.targetElm&&this.clipboardSrv.isTargetValid(this.targetElm)?this.handleResult(this.clipboardSrv.copyFromInputElement(this.targetElm),this.targetElm.value,V):this.cbContent&&this.handleResult(this.clipboardSrv.copyFromContent(this.cbContent,this.container),this.cbContent,V):this.handleResult(!1,void 0,V)}}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.clickListener=this.renderer.listen(this.host.nativeElement,"click",this.onClick)})}ngOnDestroy(){this.clickListener&&this.clickListener(),this.clipboardSrv.destroy(this.container)}handleResult(e,o,n){let t={isSuccess:e,content:o,successMessage:this.cbSuccessMsg,event:n};e?this.cbOnSuccess.observed&&this.ngZone.run(()=>{this.cbOnSuccess.emit(t)}):this.cbOnError.observed&&this.ngZone.run(()=>{this.cbOnError.emit(t)}),this.clipboardSrv.pushCopyResponse(t)}}return i.\u0275fac=function(e){return new(e||i)(c(ie),c(he),c(ze),c(Be))},i.\u0275dir=me({type:i,selectors:[["","ngxClipboard",""]],inputs:{targetElm:[le.None,"ngxClipboard","targetElm"],container:"container",cbContent:"cbContent",cbSuccessMsg:"cbSuccessMsg"},outputs:{cbOnSuccess:"cbOnSuccess",cbOnError:"cbOnError"}}),i})();var Ve=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ue({type:i}),i.\u0275inj=ae({imports:[C]}),i})();function qe(i,r){if(i&1&&m(0,"nz-option",7),i&2){let e=r.$implicit;s("nzValue",e.id)("nzLabel",e.name+" - "+e.description)}}function Pe(i,r){if(i&1&&(j(0),v(1,qe,1,2,"nz-option",6),$()),i&2){let e=r.$implicit;a(),s("ngForOf",e.data)}}function ke(i,r){if(i&1){let e=ve();p(0,"div",8)(1,"div",9),u(2," \u0110\u01B0\u1EDDng d\u1EABn video "),l(),p(3,"div",10),u(4),p(5,"button",11),ge("cbOnSuccess",function(n){de(e);let t=re();return ce(t.copied(n))}),u(6),l()()()}if(i&2){let e=re();a(),s("nzSm",10)("nzXs",24),a(2),s("nzSm",14)("nzXs",24),a(),be(" ",e.videoUploadPath,"",e.videoSelected.file," "),a(),s("disabled",e.isCopy)("cbContent",e.videoUploadPath+e.videoSelected.file),a(),J(e.isCopy?"Copied":"Copy")}}var qt=(()=>{let r=class r extends O{constructor(o){super(),this.videoService=o,this.loadData$=new G,this.videoUploadPath=we.videoUploadPath,this.video$=this.loadData$.pipe(X(n=>n?this.videoService.getAllUserVideo(n,99999):[]),ne(n=>{this.videoData=n;let t=this.formGroup.get("videoId")?.value;t&&(this.videoSelected=this.videoData?.data?.find(V=>V.id===t))})),this.isCopy=!1,this.videoId=new d,this.allowClear=!1}copied(o){this.isCopy=!0,setTimeout(()=>{this.isCopy=!1},4e3)}ngOnInit(){this.addControl("videoId",this.validators.videoId,this.defaultValue.videoId),this.videoIdSubscription=this.formGroup.get("videoId")?.valueChanges.subscribe(o=>{this.videoId.emit(o),this.videoSelected=this.videoData?.data?.find(n=>n.id===o)}),this.userIdSubscription=this.formGroup.get("userId")?.valueChanges.subscribe(o=>{this.loadData$.next(o)}),this.defaultValue.userId&&this.loadData$.next(this.defaultValue.userId)}ngOnDestroy(){this.videoIdSubscription&&this.videoIdSubscription.unsubscribe(),this.userIdSubscription&&this.userIdSubscription.unsubscribe()}};r.\u0275fac=function(n){return new(n||r)(c(_e))},r.\u0275cmp=h({type:r,selectors:[["app-video-input-by-user"]],inputs:{allowClear:"allowClear"},outputs:{videoId:"videoId"},standalone:!0,features:[g([{provide:S,useExisting:f(()=>r),multi:!0}]),z,b],decls:9,vars:11,consts:[[3,"formGroup"],["nzFor","videoId",3,"nzSm","nzXs"],[3,"nzSm","nzXs","nzErrorTip"],["formControlName","videoId","nzShowSearch","",3,"nzAllowClear"],[4,"ngIf"],["nz-row","","nzGutter","20","class","mb-2",4,"ngIf"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],["nz-row","","nzGutter","20",1,"mb-2"],["nz-col","",1,"text-right",3,"nzSm","nzXs"],["nz-col","",3,"nzSm","nzXs"],["nzSize","small","nzType","primary","nz-button","","ngxClipboard","",1,"ml-2",3,"cbOnSuccess","disabled","cbContent"]],template:function(n,t){n&1&&(p(0,"div",0)(1,"nz-form-item")(2,"nz-form-label",1),u(3,"Video d\xF9ng trong b\xE0i vi\u1EBFt"),l(),p(4,"nz-form-control",2)(5,"nz-select",3),v(6,Pe,2,1,"ng-container",4),L(7,"async"),l()()(),v(8,ke,7,9,"div",5),l()),n&2&&(s("formGroup",t.formGroup),a(2),s("nzSm",10)("nzXs",24),a(2),s("nzSm",14)("nzXs",24)("nzErrorTip",t.formErrors.videoId),a(),s("nzAllowClear",t.allowClear),a(),s("ngIf",B(7,9,t.video$)),a(2),s("ngIf",t.videoSelected))},dependencies:[_,F,w,R,x,T,W,k,Z,D,M,y,I,E,N,A,C,U,q,P,Ne,Ee,ye,Ie,Ve,Oe]});let i=r;return i})();function Ze(i,r){if(i&1&&m(0,"nz-option",6),i&2){let e=r.$implicit;s("nzValue",e.id)("nzLabel",e.name+" - "+e.description)}}function We(i,r){if(i&1&&(j(0),v(1,Ze,1,2,"nz-option",5),$()),i&2){let e=r.$implicit;a(),s("ngForOf",e.data)}}var ni=(()=>{let r=class r extends O{constructor(o){super(),this.authorService=o,this.loadData$=new G,this.author$=this.loadData$.pipe(X(n=>n?this.authorService.getAllUserAuthor(n):[])),this.authorId=new d,this.allowClear=!1}ngOnInit(){this.addControl("authorId",this.validators.authorId,this.defaultValue.authorId),this.authorIdSubscription=this.formGroup.get("authorId")?.valueChanges.subscribe(o=>this.authorId.emit(o)),this.userIdSubscription=this.formGroup.get("userId")?.valueChanges.subscribe(o=>{this.loadData$.next(o)}),this.defaultValue.userId&&this.loadData$.next(this.defaultValue.userId)}ngOnDestroy(){this.authorIdSubscription&&this.authorIdSubscription.unsubscribe(),this.userIdSubscription&&this.userIdSubscription.unsubscribe()}};r.\u0275fac=function(n){return new(n||r)(c(De))},r.\u0275cmp=h({type:r,selectors:[["app-author-input-by-user"]],inputs:{allowClear:"allowClear"},outputs:{authorId:"authorId"},standalone:!0,features:[g([{provide:S,useExisting:f(()=>r),multi:!0}]),z,b],decls:8,vars:10,consts:[[3,"formGroup"],["nzFor","authorId",3,"nzSm","nzXs"],[3,"nzSm","nzXs","nzErrorTip"],["formControlName","authorId","nzShowSearch","",3,"nzAllowClear"],[4,"ngIf"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"]],template:function(n,t){n&1&&(p(0,"div",0)(1,"nz-form-item")(2,"nz-form-label",1),u(3,"T\xE1c gi\u1EA3"),l(),p(4,"nz-form-control",2)(5,"nz-select",3),v(6,We,2,1,"ng-container",4),L(7,"async"),l()()()()),n&2&&(s("formGroup",t.formGroup),a(2),s("nzSm",10)("nzXs",24),a(2),s("nzSm",14)("nzXs",24)("nzErrorTip",t.formErrors.authorId),a(),s("nzAllowClear",t.allowClear),a(),s("ngIf",B(7,8,t.author$)))},dependencies:[_,F,w,R,x,T,W,k,Z,D,M,y,I,E,N,A,C,U,q,P]});let i=r;return i})();function He(i,r){if(i&1&&m(0,"nz-option",6),i&2){let e=r.$implicit;s("nzValue",e.id)("nzLabel",e.name+" - "+e.description)}}function Ye(i,r){if(i&1&&(j(0),v(1,He,1,2,"nz-option",5),$()),i&2){let e=r.$implicit;a(),s("ngForOf",e.data)}}var Ci=(()=>{let r=class r extends O{constructor(o){super(),this.publisherService=o,this.loadData$=new G,this.publisher$=this.loadData$.pipe(X(n=>n?this.publisherService.getAllUserPublisher(n,99999):[])),this.publisherId=new d,this.allowClear=!1}ngOnInit(){this.addControl("publisherId",this.validators.publisherId,this.defaultValue.publisherId),this.publisherIdSubscription=this.formGroup.get("domainId")?.valueChanges.subscribe(o=>this.publisherId.emit(o)),this.userIdSubscription=this.formGroup.get("userId")?.valueChanges.subscribe(o=>{this.loadData$.next(o)}),this.defaultValue.userId&&this.loadData$.next(this.defaultValue.userId)}ngOnDestroy(){this.publisherIdSubscription&&this.publisherIdSubscription.unsubscribe(),this.userIdSubscription&&this.userIdSubscription.unsubscribe()}};r.\u0275fac=function(n){return new(n||r)(c(Re))},r.\u0275cmp=h({type:r,selectors:[["app-publisher-input-by-user"]],inputs:{allowClear:"allowClear"},outputs:{publisherId:"publisherId"},standalone:!0,features:[g([{provide:S,useExisting:f(()=>r),multi:!0}]),z,b],decls:8,vars:10,consts:[[3,"formGroup"],["nzFor","publisherId",3,"nzSm","nzXs"],[3,"nzSm","nzXs","nzErrorTip"],["formControlName","publisherId","nzShowSearch","",3,"nzAllowClear"],[4,"ngIf"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"]],template:function(n,t){n&1&&(p(0,"div",0)(1,"nz-form-item")(2,"nz-form-label",1),u(3,"Nh\xE0 xu\u1EA5t b\u1EA3n"),l(),p(4,"nz-form-control",2)(5,"nz-select",3),v(6,Ye,2,1,"ng-container",4),L(7,"async"),l()()()()),n&2&&(s("formGroup",t.formGroup),a(2),s("nzSm",10)("nzXs",24),a(2),s("nzSm",14)("nzXs",24)("nzErrorTip",t.formErrors.publisherId),a(),s("nzAllowClear",t.allowClear),a(),s("ngIf",B(7,8,t.publisher$)))},dependencies:[_,F,w,R,x,T,W,k,Z,D,M,y,I,E,N,A,C,U,q,P]});let i=r;return i})();var je=$e(Le());var xi=(()=>{let r=class r extends O{constructor(){super(...arguments),this.content=new d,this.label="N\u1ED9i dung",this.rows=4,this.field="content"}ngOnInit(){this.addControl(this.field,this.validators[this.field],(0,je.unescape)(this.defaultValue[this.field]),!1),this.contentSubscription=this.formGroup.get(this.field)?.valueChanges.subscribe(o=>{this.content.next(o)})}ngOnDestroy(){this.contentSubscription&&this.contentSubscription.unsubscribe()}};r.\u0275fac=(()=>{let o;return function(t){return(o||(o=fe(r)))(t||r)}})(),r.\u0275cmp=h({type:r,selectors:[["app-input-text-area"]],inputs:{label:"label",rows:"rows",field:"field"},outputs:{content:"content"},standalone:!0,features:[g([{provide:S,useExisting:f(()=>r),multi:!0}]),z,b],decls:6,vars:11,consts:[[3,"formGroup"],[3,"nzSm","nzXs","nzFor"],[3,"nzSm","nzXs","nzErrorTip"],["nz-input","",3,"formControlName","nzSize","rows"]],template:function(n,t){n&1&&(p(0,"div",0)(1,"nz-form-item")(2,"nz-form-label",1),u(3),l(),p(4,"nz-form-control",2),m(5,"textarea",3),l()()()),n&2&&(s("formGroup",t.formGroup),a(2),s("nzSm",3)("nzXs",24)("nzFor",t.field),a(),J(t.label),a(),s("nzSm",21)("nzXs",24)("nzErrorTip",t.formErrors[t.field]),a(),s("formControlName",t.field)("nzSize","large")("rows",t.rows))},dependencies:[_,F,w,R,x,T,D,M,Se,y,I,E,N,A,Me]});let i=r;return i})();export{pt as a,qt as b,ni as c,Ci as d,xi as e};
