import{a as De}from"./chunk-YXRQP7X7.js";import{a as V}from"./chunk-ZDAHY7KC.js";import{a as Fe}from"./chunk-ON5W3XZ3.js";import"./chunk-5TKBH2EH.js";import{a as ve}from"./chunk-SLOIDIPU.js";import{a as oe}from"./chunk-7XZ66E5Q.js";import{a as X,b as ge,d as ee,e as te,f as ie,g as ne,h as re,j as _e,k as Ce,l as Ne,m as Ee,n as be,o as Ie,p as ye}from"./chunk-CIAYRUPY.js";import"./chunk-OC6OS4EK.js";import{a as j,b as L,c as R,m as W,n as H,o as J,p as K,q as Q,r as Y,t as Z}from"./chunk-53LNINAL.js";import"./chunk-PUH3HP37.js";import{d as B,e as D,g as P,h as $,l as k,n as U,o as q,r as fe,s as G,t as T,u as x,w as M,x as A}from"./chunk-TEFF5QW5.js";import{E as he,F as Se}from"./chunk-E7AKRIK7.js";import"./chunk-SE4MWOQF.js";import"./chunk-3D2PYGCY.js";import{Ea as O,Fa as w,Kb as e,Lb as i,Mb as u,Nb as v,Ob as g,Qb as ae,Sc as b,Tb as c,Tc as I,Vb as _,Yb as ue,Zc as y,_c as ze,a as le,b as pe,bd as F,cb as se,cc as de,dc as s,ec as C,gb as t,hb as z,lc as N,pc as f,qc as E,rb as S,rc as ce,ta as h,wb as d,yb as n}from"./chunk-KXMLQHF5.js";function je(o,r){if(o&1&&u(0,"nz-option",15),o&2){let a=r.$implicit;n("nzValue",a.id)("nzLabel",a.fullName+" "+a.email+" "+a.phone)}}function Le(o,r){if(o&1&&(v(0),d(1,je,1,2,"nz-option",14),g()),o&2){let a=r.$implicit;t(),n("ngForOf",a.data)}}var Oe=(()=>{let r=class r extends X(ee,te){constructor(l,m){super(),this.user=l,this.author=m,this.user$=this.user.getAllUser(9999),this._formErrorMsg={userId:{required:"User kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"},name:{required:"T\xEAn t\xE1c gi\u1EA3 kh\xF4ng h\u1EE3p l\u1EC7"}}}ngOnInit(){this.validateForm=this.fb.group({userId:["",[D.required]],name:["",[D.required]],description:[""],url:[""]})}submitForm(){this.formValid()&&this.author.createAuthor(this.removeBlankString(this.validateForm.value)).pipe(this.httpErrorOperator("author")).subscribe(l=>{this.destroyModal(l)})}};r.\u0275fac=function(m){return new(m||r)(z(oe),z(V))},r.\u0275cmp=h({type:r,selectors:[["app-author-create"]],standalone:!0,features:[S,N],decls:27,vars:27,consts:[["nz-form","",3,"ngSubmit","formGroup"],["nzRequired","","nzFor","name",3,"nzSm","nzXs"],[3,"nzSm","nzXs","nzErrorTip"],["nz-input","","formControlName","name","id","name"],["nzFor","description",3,"nzSm","nzXs"],["nz-input","","formControlName","description","id","description"],["nzFor","url",3,"nzSm","nzXs"],["nz-input","","formControlName","url","id","url"],["nzFor","userId",3,"nzSm","nzXs"],["formControlName","userId","nzShowSearch",""],[4,"ngIf"],["nz-row","",1,"register-area"],[3,"nzSpan","nzOffset"],["nz-button","","nzType","primary",3,"disabled"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"]],template:function(m,p){m&1&&(e(0,"form",0),c("ngSubmit",function(){return p.submitForm()}),e(1,"nz-form-item")(2,"nz-form-label",1),s(3,"Author"),i(),e(4,"nz-form-control",2),u(5,"input",3),i()(),e(6,"nz-form-item")(7,"nz-form-label",4),s(8,"Description"),i(),e(9,"nz-form-control",2),u(10,"input",5),i()(),e(11,"nz-form-item")(12,"nz-form-label",6),s(13,"Url"),i(),e(14,"nz-form-control",2),u(15,"input",7),i()(),e(16,"nz-form-item")(17,"nz-form-label",8),s(18,"User"),i(),e(19,"nz-form-control",2)(20,"nz-select",9),d(21,Le,2,1,"ng-container",10),f(22,"async"),i()()(),e(23,"nz-form-item",11)(24,"nz-form-control",12)(25,"button",13),s(26,"T\u1EA1o Author"),i()()()()),m&2&&(n("formGroup",p.validateForm),t(2),n("nzSm",10)("nzXs",24),t(2),n("nzSm",14)("nzXs",24)("nzErrorTip",p.formErrors.name),t(3),n("nzSm",10)("nzXs",24),t(2),n("nzSm",14)("nzXs",24)("nzErrorTip",p.formErrors.description),t(3),n("nzSm",10)("nzXs",24),t(2),n("nzSm",14)("nzXs",24)("nzErrorTip",p.formErrors.url),t(3),n("nzSm",10)("nzXs",24),t(2),n("nzSm",14)("nzXs",24)("nzErrorTip",p.formErrors.userId),t(2),n("ngIf",E(22,25,p.user$)),t(3),n("nzSpan",12)("nzOffset",8),t(),n("disabled",!p.validateForm.valid))},dependencies:[Q,L,j,H,W,K,J,R,A,M,T,x,Z,Y,G,k,B,P,$,U,q,re,ie,ne,F,b,I,y]});let o=r;return o})();function Re(o,r){if(o&1&&u(0,"nz-option",15),o&2){let a=r.$implicit;n("nzValue",a.id)("nzLabel",a.fullName+" "+a.email+" "+a.phone)}}function We(o,r){if(o&1&&(v(0),d(1,Re,1,2,"nz-option",14),g()),o&2){let a=r.$implicit;t(),n("ngForOf",a.data)}}var we=(()=>{let r=class r extends X(ee,te){constructor(l,m){super(),this.user=l,this.author=m,this.user$=this.user.getAllUser(9999),this._formErrorMsg={userId:{required:"User kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"},name:{required:"T\xEAn t\xE1c gi\u1EA3 kh\xF4ng h\u1EE3p l\u1EC7"}}}ngOnInit(){this.validateForm=this.fb.group({userId:[this.nzModalData.userId,[D.required]],name:[this.nzModalData.name,[D.required]],description:[this.nzModalData.description],url:[this.nzModalData.url]})}submitForm(){this.formValid()&&this.author.updateAuthor(pe(le({},this.removeBlankString(this.validateForm.value)),{authorId:this.nzModalData.id})).pipe(this.httpErrorOperator("author")).subscribe(l=>{this.destroyModal(l)})}};r.\u0275fac=function(m){return new(m||r)(z(oe),z(V))},r.\u0275cmp=h({type:r,selectors:[["app-author-edit"]],standalone:!0,features:[S,N],decls:27,vars:27,consts:[["nz-form","",3,"ngSubmit","formGroup"],["nzRequired","","nzFor","name",3,"nzSm","nzXs"],[3,"nzSm","nzXs","nzErrorTip"],["nz-input","","formControlName","name","id","name"],["nzFor","description",3,"nzSm","nzXs"],["nz-input","","formControlName","description","id","description"],["nzFor","url",3,"nzSm","nzXs"],["nz-input","","formControlName","url","id","url"],["nzFor","userId",3,"nzSm","nzXs"],["formControlName","userId","nzShowSearch",""],[4,"ngIf"],["nz-row","",1,"register-area"],[3,"nzSpan","nzOffset"],["nz-button","","nzType","primary",3,"disabled"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"]],template:function(m,p){m&1&&(e(0,"form",0),c("ngSubmit",function(){return p.submitForm()}),e(1,"nz-form-item")(2,"nz-form-label",1),s(3,"Author"),i(),e(4,"nz-form-control",2),u(5,"input",3),i()(),e(6,"nz-form-item")(7,"nz-form-label",4),s(8,"Description"),i(),e(9,"nz-form-control",2),u(10,"input",5),i()(),e(11,"nz-form-item")(12,"nz-form-label",6),s(13,"Url"),i(),e(14,"nz-form-control",2),u(15,"input",7),i()(),e(16,"nz-form-item")(17,"nz-form-label",8),s(18,"User"),i(),e(19,"nz-form-control",2)(20,"nz-select",9),d(21,We,2,1,"ng-container",10),f(22,"async"),i()()(),e(23,"nz-form-item",11)(24,"nz-form-control",12)(25,"button",13),s(26,"C\u1EADp nh\u1EADt Author"),i()()()()),m&2&&(n("formGroup",p.validateForm),t(2),n("nzSm",10)("nzXs",24),t(2),n("nzSm",14)("nzXs",24)("nzErrorTip",p.formErrors.name),t(3),n("nzSm",10)("nzXs",24),t(2),n("nzSm",14)("nzXs",24)("nzErrorTip",p.formErrors.description),t(3),n("nzSm",10)("nzXs",24),t(2),n("nzSm",14)("nzXs",24)("nzErrorTip",p.formErrors.url),t(3),n("nzSm",10)("nzXs",24),t(2),n("nzSm",14)("nzXs",24)("nzErrorTip",p.formErrors.userId),t(2),n("ngIf",E(22,25,p.user$)),t(3),n("nzSpan",12)("nzOffset",8),t(),n("disabled",!p.validateForm.valid))},dependencies:[Q,L,j,H,W,K,J,R,A,M,T,x,Z,Y,G,k,B,P,$,U,q,re,ie,ne,F,b,I,y]});let o=r;return o})();function He(o,r){if(o&1&&(e(0,"a",11),s(1),i()),o&2){let a=_().$implicit;ue("href",a.url,se),t(),C(a.url)}}function Je(o,r){if(o&1){let a=ae();e(0,"tr")(1,"td"),s(2),f(3,"date"),i(),e(4,"td"),s(5),i(),e(6,"td"),s(7),i(),e(8,"td"),d(9,He,2,2,"a",9),i(),e(10,"td"),s(11),i(),e(12,"td")(13,"button",10),c("click",function(){let m=O(a).$implicit,p=_(2);return w(p.edit(m))}),s(14,"S\u1EEDa"),i()()()}if(o&2){let a=r.$implicit;t(2),C(ce(3,5,a.createdAt,"dd/MM/yyyy")),t(3),C(a.name),t(2),C(a.description),t(2),n("ngIf",a.url),t(2),C(a.user==null?null:a.user.fullName)}}function Ke(o,r){if(o&1){let a=ae();v(0),e(1,"nz-table",4,0),c("nzPageIndexChange",function(m){O(a);let p=_();return w(p.changePage(m))}),e(3,"thead")(4,"tr")(5,"th"),s(6,"Th\u01A1\u0300i gian kh\u1EDFi t\u1EA1o"),i(),e(7,"th"),s(8,"Name"),i(),e(9,"th"),s(10,"Description"),i(),e(11,"th"),s(12,"Url"),i(),e(13,"th"),s(14,"User"),i(),e(15,"th"),s(16,"X\u1EED l\xFD"),i()(),e(17,"tr")(18,"th",5)(19,"button",6),c("click",function(){O(a);let m=_();return w(m.create())}),u(20,"span",7),i()()()(),e(21,"tbody"),d(22,Je,15,8,"tr",8),i()(),g()}if(o&2){let a=r.ngIf,l=de(2),m=_();t(),n("nzData",a.data)("nzTotal",a.count)("nzPageIndex",m.pageIndex+1)("nzPageSize",m.pageSize),t(21),n("ngForOf",l.data)}}var Vt=(()=>{let r=class r extends X(ge,ve){constructor(l){super(),this.authorService=l,this.author$=this.createObservableData((m,p)=>this.filter&&this.filter.userId?this.authorService.getAllUserAuthor(this.filter.userId,m,p):this.authorService.getAllAuthor(m,p))}filterData(l){this.filter=l,this.loadDataSubject$.next(!0)}create(){this.createComponentModal({nzTitle:"T\u1EA1o author"},Oe).afterClose.subscribe(()=>this.loadDataSubject$.next(!0))}edit(l){this.createComponentModal({nzTitle:"C\u1EADp nh\u1EADt author "+l.name},we,l).afterClose.subscribe(()=>this.loadDataSubject$.next(!0))}delete(l){this.authorService.deleteAuthor(l.id).subscribe(()=>this.loadDataSubject$.next(!0))}};r.\u0275fac=function(m){return new(m||r)(z(V))},r.\u0275cmp=h({type:r,selectors:[["app-author-index"]],standalone:!0,features:[S,N],decls:4,vars:4,consts:[["authorTable",""],[1,"mb-2"],[3,"filter","domainInput"],[4,"ngIf"],["nzSize","small","nzShowPagination","true","nzFrontPagination","false",3,"nzPageIndexChange","nzData","nzTotal","nzPageIndex","nzPageSize"],["colspan","6",1,"center-align"],["nz-button","","nzType","primary","nz-tooltip","","nzTooltipTitle","T\u1EA1o author",3,"click"],["nz-icon","","nzType","plus","nzTheme","outline"],[4,"ngFor","ngForOf"],["target","_blank",3,"href",4,"ngIf"],["nz-button","","nzType","primary","nzSize","small",3,"click"],["target","_blank",3,"href"]],template:function(m,p){m&1&&(e(0,"div",1)(1,"app-user-domain-filter",2),c("filter",function(Be){return p.filterData(Be)}),i()(),d(2,Ke,23,5,"ng-container",3),f(3,"async")),m&2&&(t(),n("domainInput",!1),t(),n("ngIf",E(3,2,p.author$)))},dependencies:[Fe,ye,Ee,_e,Ce,Ie,Ne,be,A,M,T,x,F,b,I,y,ze,fe,De,Se,he]});let o=r;return o})();export{Vt as AuthorIndexComponent};
