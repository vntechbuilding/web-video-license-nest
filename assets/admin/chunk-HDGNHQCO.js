import{a as Ve}from"./chunk-PUH3HP37.js";import{$ as Me,G as Ee,R as q,T as Se,_ as Fe,aa as Be,ba as Re,da as oe,ea as Oe,m as A}from"./chunk-E7AKRIK7.js";import{$b as w,Ab as m,Ac as z,Bc as U,Da as Q,Dc as Z,E as ve,Ec as se,H as J,Ha as F,I as Y,J as me,Kb as R,La as M,Lb as O,Ma as De,Mb as $,Nb as Ie,Ob as be,P as ee,Pb as V,Sc as Te,Tb as we,Tc as ke,Vb as ie,Wb as re,Xb as b,_b as ze,ac as _,bc as C,ca as S,gb as x,hb as a,ja as te,jb as _e,kc as u,la as ye,lc as f,m as D,n as N,nb as Ce,p as he,pb as Ne,q as ue,qb as B,rb as v,s as E,sa as g,sb as H,ta as l,u as fe,ua as ne,va as c,w as pe,wb as I,xb as xe,y as ge,yb as h}from"./chunk-KXMLQHF5.js";var ae=class{constructor(){this.expansionModel=new Be(!0)}toggle(e){this.expansionModel.toggle(this._trackByValue(e))}expand(e){this.expansionModel.select(this._trackByValue(e))}collapse(e){this.expansionModel.deselect(this._trackByValue(e))}isExpanded(e){return this.expansionModel.isSelected(this._trackByValue(e))}toggleDescendants(e){this.expansionModel.isSelected(this._trackByValue(e))?this.collapseDescendants(e):this.expandDescendants(e)}collapseAll(){this.expansionModel.clear()}expandDescendants(e){let o=[e];o.push(...this.getDescendants(e)),this.expansionModel.select(...o.map(t=>this._trackByValue(t)))}collapseDescendants(e){let o=[e];o.push(...this.getDescendants(e)),this.expansionModel.deselect(...o.map(t=>this._trackByValue(t)))}_trackByValue(e){return this.trackBy?this.trackBy(e):e}},Ae=class extends ae{constructor(e,o,t){super(),this.getLevel=e,this.isExpandable=o,this.options=t,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(e){let o=this.dataNodes.indexOf(e),t=[];for(let n=o+1;n<this.dataNodes.length&&this.getLevel(e)<this.getLevel(this.dataNodes[n]);n++)t.push(this.dataNodes[n]);return t}expandAll(){this.expansionModel.select(...this.dataNodes.map(e=>this._trackByValue(e)))}};var de=new ye("CDK_TREE_NODE_OUTLET_NODE"),K=(()=>{let e=class e{constructor(t,n){this.viewContainer=t,this._node=n}};e.\u0275fac=function(n){return new(n||e)(a(B),a(de,8))},e.\u0275dir=c({type:e,selectors:[["","cdkTreeNodeOutlet",""]],standalone:!0});let r=e;return r})(),j=class{constructor(e){this.$implicit=e}},W=(()=>{let e=class e{constructor(t){this.template=t}};e.\u0275fac=function(n){return new(n||e)(a(_e))},e.\u0275dir=c({type:e,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[g.None,"cdkTreeNodeDefWhen","when"]},standalone:!0});let r=e;return r})();var T=(()=>{let e=class e{get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}constructor(t,n){this._differs=t,this._changeDetectorRef=n,this._onDestroy=new D,this._levels=new Map,this.viewChange=new N({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy),this.treeControl}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){let t=this._nodeDefs.filter(n=>!n.when);t.length>1,this._defaultNodeDef=t[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(t){this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),t||this._nodeOutlet.viewContainer.clear(),this._dataSource=t,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let t;Me(this._dataSource)?t=this._dataSource.connect(this):pe(this._dataSource)?t=this._dataSource:Array.isArray(this._dataSource)&&(t=fe(this._dataSource)),t&&(this._dataSubscription=t.pipe(S(this._onDestroy)).subscribe(n=>this.renderNodeChanges(n)))}renderNodeChanges(t,n=this._dataDiffer,i=this._nodeOutlet.viewContainer,s){let d=n.diff(t);d&&(d.forEachOperation((p,G,L)=>{if(p.previousIndex==null)this.insertNode(t[L],L,i,s);else if(L==null)i.remove(G),this._levels.delete(p.item);else{let He=i.get(G);i.move(He,L)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(t,n){if(this._nodeDefs.length===1)return this._nodeDefs.first;let i=this._nodeDefs.find(s=>s.when&&s.when(n,t))||this._defaultNodeDef;return i}insertNode(t,n,i,s){let d=this._getNodeDef(t,n),p=new j(t);this.treeControl.getLevel?p.level=this.treeControl.getLevel(t):typeof s<"u"&&this._levels.has(s)?p.level=this._levels.get(s)+1:p.level=0,this._levels.set(t,p.level),(i||this._nodeOutlet.viewContainer).createEmbeddedView(d.template,p,n),y.mostRecentTreeNode&&(y.mostRecentTreeNode.data=t)}};e.\u0275fac=function(n){return new(n||e)(a(U),a(z))},e.\u0275cmp=l({type:e,selectors:[["cdk-tree"]],contentQueries:function(n,i,s){if(n&1&&ze(s,W,5),n&2){let d;_(d=C())&&(i._nodeDefs=d)}},viewQuery:function(n,i){if(n&1&&w(K,7),n&2){let s;_(s=C())&&(i._nodeOutlet=s.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],standalone:!0,features:[f],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(n,i){n&1&&V(0,0)},dependencies:[K],encapsulation:2});let r=e;return r})(),y=(()=>{let e=class e{get role(){return"treeitem"}set role(t){this._elementRef.nativeElement.setAttribute("role",t)}get data(){return this._data}set data(t){t!==this._data&&(this._data=t,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(t,n){this._elementRef=t,this._tree=n,this._destroyed=new D,this._dataChanges=new D,e.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=Ue(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){e.mostRecentTreeNode===this&&(e.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){!this._tree.treeControl.isExpandable&&this._tree.treeControl.getChildren,this.role="treeitem"}};e.mostRecentTreeNode=null,e.\u0275fac=function(n){return new(n||e)(a(M),a(T))},e.\u0275dir=c({type:e,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(n,i){n&2&&xe("aria-expanded",i.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"],standalone:!0});let r=e;return r})();function Ue(r){let e=r.parentElement;for(;e&&!Ze(e);)e=e.parentElement;return e?e.classList.contains("cdk-nested-tree-node")?se(e.getAttribute("aria-level")):0:-1}function Ze(r){let e=r.classList;return!!(e?.contains("cdk-nested-tree-node")||e?.contains("cdk-tree"))}var ce=(()=>{let e=class e{constructor(t,n){this._tree=t,this._treeNode=n,this.recursive=!1}_toggle(t){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),t.stopPropagation()}};e.\u0275fac=function(n){return new(n||e)(a(T),a(y))},e.\u0275dir=c({type:e,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(n,i){n&1&&we("click",function(d){return i._toggle(d)})},inputs:{recursive:[g.HasDecoratorInputTransform,"cdkTreeNodeToggleRecursive","recursive",Z]},standalone:!0,features:[H]});let r=e;return r})();function qe(r,e){if(r&1&&$(0,"span",1),r&2){let o=e.$implicit;m("ant-tree-indent-unit-end",!o)}}var Ke=[[["nz-tree-node-toggle"],["","nz-tree-node-toggle",""]],[["nz-tree-node-checkbox"]],[["nz-tree-node-option"]],"*"],We=["nz-tree-node-toggle, [nz-tree-node-toggle]","nz-tree-node-checkbox","nz-tree-node-option","*"];function Xe(r,e){if(r&1&&$(0,"nz-tree-node-indents",2),r&2){let o=ie();h("indents",o.indents)}}function Ge(r,e){r&1&&(R(0,"nz-tree-node-toggle",3),$(1,"span",4),O())}var Je=["*"];function Ye(r,e){}function et(r,e){if(r&1&&(Ie(0),I(1,Ye,0,0,"ng-template",4),be()),r&2){let o=e.$implicit,t=ie();x(),h("data",o)("compareBy",t.compareBy)}}var je=(r,e,o)=>{let t=r.indexOf(e);if(t<0)return null;let n=o(e);for(t--;t>=0;t--){let i=o(r[t]);if(i+1===n)return r[t];if(i+1<n)return null}return null},Pe=(r,e,o,t)=>{let n=typeof t<"u"?t:r.indexOf(e);if(n<0)return null;let i=o(e);for(n++;n<r.length;n++){let s=o(r[n]);if(s<i)return null;if(s===i)return r[n]}return null},P=class extends y{},k=(()=>{let e=class e extends T{get dataSource(){return super.dataSource}set dataSource(t){super.dataSource=t}constructor(t,n,i,s){super(t,n),this.differs=t,this.changeDetectorRef=n,this.noAnimation=i,this.directionality=s,this.destroy$=new D,this.dir="ltr",this._dataSourceChanged=new D,this.nzDirectoryTree=!1,this.nzBlockNode=!1}ngOnInit(){super.ngOnInit(),this.directionality&&(this.dir=this.directionality.value,this.directionality.change?.pipe(S(this.destroy$)).subscribe(t=>{this.dir=t,this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){super.ngOnDestroy(),this.destroy$.next(!0),this.destroy$.complete()}renderNodeChanges(t,n,i,s){super.renderNodeChanges(t,n,i,s),this._dataSourceChanged.next()}};e.\u0275fac=function(n){return new(n||e)(a(U),a(z),a(Ve,9),a(Ee,8))},e.\u0275cmp=l({type:e,selectors:[["ng-component"]],inputs:{treeControl:[g.None,"nzTreeControl","treeControl"],dataSource:[g.None,"nzDataSource","dataSource"],nzDirectoryTree:"nzDirectoryTree",nzBlockNode:"nzBlockNode"},standalone:!0,features:[v,f],decls:0,vars:0,template:function(n,i){},encapsulation:2});let r=e;return E([A()],r.prototype,"nzDirectoryTree",void 0),E([A()],r.prototype,"nzBlockNode",void 0),r})();function tt(r){return r.map(e=>e?1:0).join("")}var nt=typeof requestAnimationFrame<"u"?ue:he,it=(()=>{let e=class e{constructor(){this.indents=[]}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=l({type:e,selectors:[["nz-tree-node-indents"]],hostAttrs:[1,"ant-tree-indent"],inputs:{indents:"indents"},standalone:!0,features:[f],decls:1,vars:1,consts:[["class","ant-tree-indent-unit",3,"ant-tree-indent-unit-end",4,"ngFor","ngForOf"],[1,"ant-tree-indent-unit"]],template:function(n,i){n&1&&I(0,qe,1,2,"span",0),n&2&&h("ngForOf",i.indents)},dependencies:[Te],encapsulation:2,changeDetection:0});let r=e;return r})(),Wt=(()=>{let e=class e{constructor(t,n,i){this.treeNode=t,this.tree=n,this.cdr=i,this.isLast="unset",this.isLeaf=!1,this.preNodeRef=null,this.nextNodeRef=null,this.currentIndents="",this.buildIndents(),this.checkLast(),this.changeSubscription=J(this.treeNode._dataChanges,n._dataSourceChanged).pipe(me(0,nt)).subscribe(()=>{this.buildIndents(),this.checkAdjacent(),this.cdr.markForCheck()})}getIndents(){let t=[],n=this.tree.treeControl.dataNodes,i=this.tree.treeControl.getLevel,s=je(n,this.treeNode.data,i);for(;s;)Pe(n,s,i)?t.unshift(!0):t.unshift(!1),s=je(n,s,i);return t}buildIndents(){if(this.treeNode.data){let t=this.getIndents(),n=tt(t);n!==this.currentIndents&&(this.treeNode.setIndents(this.getIndents()),this.currentIndents=n)}}checkAdjacent(){let t=this.tree.treeControl.dataNodes,n=t.indexOf(this.treeNode.data),i=t[n-1]||null,s=t[n+1]||null;(this.nextNodeRef!==s||this.preNodeRef!==i)&&this.checkLast(n),this.preNodeRef=i,this.nextNodeRef=s}checkLast(t){let n=this.tree.treeControl.dataNodes;this.isLeaf=this.treeNode.isLeaf,this.isLast=!Pe(n,this.treeNode.data,this.tree.treeControl.getLevel,t)}ngOnDestroy(){this.preNodeRef=null,this.nextNodeRef=null,this.changeSubscription.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)(a(P),a(k),a(z))},e.\u0275dir=c({type:e,selectors:[["nz-tree-node","nzTreeNodeIndentLine",""]],hostAttrs:[1,"ant-tree-show-line"],hostVars:2,hostBindings:function(n,i){n&2&&m("ant-tree-treenode-leaf-last",i.isLast&&i.isLeaf)},standalone:!0});let r=e;return r})(),rt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=c({type:e,selectors:[["nz-tree-node-toggle","nzTreeNodeNoopToggle",""],["","nzTreeNodeNoopToggle",""]],hostAttrs:[1,"ant-tree-switcher","ant-tree-switcher-noop"],standalone:!0});let r=e;return r})(),Xt=(()=>{let e=class e extends ce{constructor(){super(...arguments),this.recursive=!1}get isExpanded(){return this._treeNode.isExpanded}};e.\u0275fac=(()=>{let t;return function(i){return(t||(t=F(e)))(i||e)}})(),e.\u0275dir=c({type:e,selectors:[["nz-tree-node-toggle",3,"nzTreeNodeNoopToggle",""],["","nzTreeNodeToggle",""]],hostAttrs:[1,"ant-tree-switcher"],hostVars:4,hostBindings:function(n,i){n&2&&m("ant-tree-switcher_open",i.isExpanded)("ant-tree-switcher_close",!i.isExpanded)},inputs:{recursive:[g.HasDecoratorInputTransform,"nzTreeNodeToggleRecursive","recursive",Z]},standalone:!0,features:[u([{provide:ce,useExisting:e}]),H,v]});let r=e;return r})();var st=(()=>{let e=class e extends P{constructor(t,n,i,s){super(t,n),this.elementRef=t,this.tree=n,this.renderer=i,this.cdr=s,this.indents=[],this.disabled=!1,this.selected=!1,this.isLeaf=!1,this._elementRef.nativeElement.classList.add("ant-tree-treenode")}ngOnInit(){this.isLeaf=!this.tree.treeControl.isExpandable(this.data)}disable(){this.disabled=!0,this.updateDisabledClass()}enable(){this.disabled=!1,this.updateDisabledClass()}select(){this.selected=!0,this.updateSelectedClass()}deselect(){this.selected=!1,this.updateSelectedClass()}setIndents(t){this.indents=t,this.cdr.markForCheck()}updateSelectedClass(){this.selected?this.renderer.addClass(this.elementRef.nativeElement,"ant-tree-treenode-selected"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-tree-treenode-selected")}updateDisabledClass(){this.disabled?this.renderer.addClass(this.elementRef.nativeElement,"ant-tree-treenode-disabled"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-tree-treenode-disabled")}};e.\u0275fac=function(n){return new(n||e)(a(M),a(k),a(Ce),a(z))},e.\u0275cmp=l({type:e,selectors:[["nz-tree-node",3,"builtin",""]],hostVars:4,hostBindings:function(n,i){n&2&&m("ant-tree-treenode-switcher-open",i.isExpanded)("ant-tree-treenode-switcher-close",!i.isExpanded)},exportAs:["nzTreeNode"],standalone:!0,features:[u([{provide:y,useExisting:e},{provide:P,useExisting:e}]),v,f],ngContentSelectors:We,decls:6,vars:2,consts:[[3,"indents",4,"ngIf"],["class","nz-tree-leaf-line-icon","nzTreeNodeNoopToggle","",4,"ngIf"],[3,"indents"],["nzTreeNodeNoopToggle","",1,"nz-tree-leaf-line-icon"],[1,"ant-tree-switcher-leaf-line"]],template:function(n,i){n&1&&(re(Ke),I(0,Xe,1,1,"nz-tree-node-indents",0),b(1),I(2,Ge,2,0,"nz-tree-node-toggle",1),b(3,1),b(4,2),b(5,3)),n&2&&(h("ngIf",i.indents.length),x(2),h("ngIf",i.indents.length&&i.isLeaf))},dependencies:[it,rt,ke],encapsulation:2,changeDetection:0});let r=e;return r})(),Gt=(()=>{let e=class e extends W{};e.\u0275fac=(()=>{let t;return function(i){return(t||(t=F(e)))(i||e)}})(),e.\u0275dir=c({type:e,selectors:[["","nzTreeNodeDef",""]],inputs:{when:[g.None,"nzTreeNodeDefWhen","when"]},standalone:!0,features:[u([{provide:W,useExisting:e}]),v]});let r=e;return r})(),ot=(()=>{let e=class e{constructor(t){this._viewContainerRef=t,this._viewRef=null}ngOnChanges(t){if(this.shouldRecreateView(t)){let i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.data?i.createEmbeddedView(this.data.nodeDef.template,this.data.context):null,y.mostRecentTreeNode&&this._viewRef&&(y.mostRecentTreeNode.data=this.data.data)}else this._viewRef&&this.data.context&&this.updateExistingContext(this.data.context)}shouldRecreateView(t){let n=t.data;return n&&this.hasContextShapeChanged(n)}hasContextShapeChanged(t){let n=Object.keys(t.previousValue||{}),i=Object.keys(t.currentValue||{});if(n.length===i.length){for(let s of i)if(n.indexOf(s)===-1)return!0;return this.innerCompareBy(t.previousValue?.data??null)!==this.innerCompareBy(t.currentValue?.data??null)}return!0}get innerCompareBy(){return t=>t===null?t:this.compareBy?this.compareBy(t):t}updateExistingContext(t){for(let n of Object.keys(t))this._viewRef.context[n]=this.data.context[n]}};e.\u0275fac=function(n){return new(n||e)(a(B))},e.\u0275dir=c({type:e,selectors:[["","nzTreeVirtualScrollNodeOutlet",""]],inputs:{data:"data",compareBy:"compareBy"},standalone:!0,features:[Q]});let r=e;return r})(),Jt=(()=>{let e=class e{constructor(t,n,i,s){this.ngZone=t,this.host=n,this.destroy$=i,this.treeNode=s,this.nzSelected=!1,this.nzDisabled=!1,this.nzClick=new De}get isExpanded(){return this.treeNode.isExpanded}ngOnChanges(t){let{nzDisabled:n,nzSelected:i}=t;n&&(n.currentValue?this.treeNode.disable():this.treeNode.enable()),i&&(i.currentValue?this.treeNode.select():this.treeNode.deselect())}ngOnInit(){this.ngZone.runOutsideAngular(()=>ve(this.host.nativeElement,"click").pipe(Y(()=>!this.nzDisabled&&this.nzClick.observers.length>0),S(this.destroy$)).subscribe(t=>{this.ngZone.run(()=>this.nzClick.emit(t))}))}};e.\u0275fac=function(n){return new(n||e)(a(Ne),a(M),a(q),a(st))},e.\u0275cmp=l({type:e,selectors:[["nz-tree-node-option"]],hostAttrs:[1,"ant-tree-node-content-wrapper"],hostVars:4,hostBindings:function(n,i){n&2&&m("ant-tree-node-content-wrapper-open",i.isExpanded)("ant-tree-node-selected",i.nzSelected)},inputs:{nzSelected:"nzSelected",nzDisabled:"nzDisabled"},outputs:{nzClick:"nzClick"},standalone:!0,features:[u([q]),Q,f],ngContentSelectors:Je,decls:2,vars:0,consts:[[1,"ant-tree-title"]],template:function(n,i){n&1&&(re(),R(0,"span",0),b(1),O())},encapsulation:2,changeDetection:0});let r=e;return E([A()],r.prototype,"nzSelected",void 0),E([A()],r.prototype,"nzDisabled",void 0),r})(),X=(()=>{let e=class e{constructor(t,n){this.viewContainer=t,this._node=n}};e.\u0275fac=function(n){return new(n||e)(a(B),a(de,8))},e.\u0275dir=c({type:e,selectors:[["","nzTreeNodeOutlet",""]],standalone:!0,features:[u([{provide:K,useExisting:e}])]});let r=e;return r})();var Yt=(()=>{let e=class e extends k{constructor(){super(...arguments),this._afterViewInit=!1}ngAfterViewInit(){Promise.resolve().then(()=>{this._afterViewInit=!0,this.changeDetectorRef.markForCheck()})}};e.\u0275fac=(()=>{let t;return function(i){return(t||(t=F(e)))(i||e)}})(),e.\u0275cmp=l({type:e,selectors:[["nz-tree-view"]],viewQuery:function(n,i){if(n&1&&w(X,7),n&2){let s;_(s=C())&&(i.nodeOutlet=s.first)}},hostAttrs:[1,"ant-tree"],hostVars:6,hostBindings:function(n,i){n&2&&m("ant-tree-block-node",i.nzDirectoryTree||i.nzBlockNode)("ant-tree-directory",i.nzDirectoryTree)("ant-tree-rtl",i.dir==="rtl")},exportAs:["nzTreeView"],standalone:!0,features:[u([{provide:T,useExisting:e},{provide:k,useExisting:e}]),v,f],decls:3,vars:2,consts:[[1,"ant-tree-list-holder"],[1,"ant-tree-list-holder-inner"],["nzTreeNodeOutlet",""]],template:function(n,i){n&1&&(R(0,"div",0)(1,"div",1),V(2,2),O()()),n&2&&(x(),h("@.disabled",!i._afterViewInit||!!(i.noAnimation!=null&&i.noAnimation.nzNoAnimation))("@treeCollapseMotion",i._nodeOutlet.viewContainer.length))},dependencies:[X],encapsulation:2,data:{animation:[Se]},changeDetection:0});let r=e;return r})(),le=28,at=(()=>{let e=class e extends k{constructor(){super(...arguments),this.nzItemSize=le,this.nzMinBufferPx=le*5,this.nzMaxBufferPx=le*10,this.nodes=[],this.innerTrackBy=t=>t}ngOnChanges(t){t.trackBy&&(typeof t.trackBy.currentValue=="function"?this.innerTrackBy=(n,i)=>this.trackBy(n,i.data):this.innerTrackBy=n=>n)}get compareBy(){let t=this.treeControl;return t.trackBy?t.trackBy:null}renderNodeChanges(t){this.nodes=new Array(...t).map((n,i)=>this.createNode(n,i)),this._dataSourceChanged.next(),this.changeDetectorRef.markForCheck()}createNode(t,n){let i=this._getNodeDef(t,n),s=new j(t);return this.treeControl.getLevel?s.level=this.treeControl.getLevel(t):s.level=0,{data:t,context:s,nodeDef:i}}};e.\u0275fac=(()=>{let t;return function(i){return(t||(t=F(e)))(i||e)}})(),e.\u0275cmp=l({type:e,selectors:[["nz-tree-virtual-scroll-view"]],viewQuery:function(n,i){if(n&1&&(w(X,7),w(oe,7)),n&2){let s;_(s=C())&&(i.nodeOutlet=s.first),_(s=C())&&(i.virtualScrollViewport=s.first)}},hostAttrs:[1,"ant-tree"],hostVars:6,hostBindings:function(n,i){n&2&&m("ant-tree-block-node",i.nzDirectoryTree||i.nzBlockNode)("ant-tree-directory",i.nzDirectoryTree)("ant-tree-rtl",i.dir==="rtl")},inputs:{nzItemSize:"nzItemSize",nzMinBufferPx:"nzMinBufferPx",nzMaxBufferPx:"nzMaxBufferPx",trackBy:"trackBy"},exportAs:["nzTreeVirtualScrollView"],standalone:!0,features:[u([{provide:k,useExisting:e},{provide:T,useExisting:e}]),v,Q,f],decls:4,vars:5,consts:[[1,"ant-tree-list"],[1,"ant-tree-list-holder",3,"itemSize","minBufferPx","maxBufferPx"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["nzTreeNodeOutlet",""],["nzTreeVirtualScrollNodeOutlet","",3,"data","compareBy"]],template:function(n,i){n&1&&(R(0,"div",0)(1,"cdk-virtual-scroll-viewport",1),I(2,et,2,2,"ng-container",2),O()(),V(3,3)),n&2&&(x(),h("itemSize",i.nzItemSize)("minBufferPx",i.nzMinBufferPx)("maxBufferPx",i.nzMaxBufferPx),x(),h("cdkVirtualForOf",i.nodes)("cdkVirtualForTrackBy",i.innerTrackBy))},dependencies:[ot,Oe,X,oe,Re],encapsulation:2,changeDetection:0});let r=e;return r})();var en=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ne({type:e}),e.\u0275inj=te({imports:[at]});let r=e;return r})(),Le=class{constructor(e,o,t,n){this.transformFunction=e,this.getLevel=o,this.isExpandable=t,this.getChildren=n}flattenNode(e,o,t,n){let i=this.transformFunction(e,o);if(t.push(i),this.isExpandable(i)){let s=this.getChildren(e);s&&(Array.isArray(s)?this.flattenChildren(s,o,t,n):s.pipe(ee(1)).subscribe(d=>{this.flattenChildren(d,o,t,n)}))}return t}flattenChildren(e,o,t,n){e.forEach((i,s)=>{let d=n.slice();d.push(s!==e.length-1),this.flattenNode(i,o+1,t,d)})}flattenNodes(e){let o=[];return e.forEach(t=>this.flattenNode(t,0,o,[])),o}expandFlattenedNodes(e,o){let t=[],n=[];return n[0]=!0,e.forEach(i=>{let s=!0;for(let d=0;d<=this.getLevel(i);d++)s=s&&n[d];s&&t.push(i),this.isExpandable(i)&&(n[this.getLevel(i)+1]=o.isExpanded(i))}),t}},Qe=class extends Fe{constructor(e,o,t=[]){super(),this._treeControl=e,this._treeFlattener=o,this._flattenedData=new N([]),this._expandedData=new N([]),this._data=new N(t),this.flatNodes()}setData(e){this._data.next(e),this.flatNodes()}getData(){return this._data.getValue()}connect(e){let o=[e.viewChange,this._treeControl.expansionModel.changed.asObservable(),this._flattenedData.asObservable()];return J(...o).pipe(ge(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}flatNodes(){this._flattenedData.next(this._treeFlattener.flattenNodes(this.getData())),this._treeControl.dataNodes=this._flattenedData.value}};export{Ae as a,Wt as b,rt as c,Xt as d,st as e,Gt as f,Jt as g,Yt as h,en as i,Le as j,Qe as k};
